<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1441459-13"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-1441459-13');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="main.css?v=%CSS_HASH%">
    <link rel="stylesheet" type="text/css" href="fontello.css?v=%FONT_HASH%">

    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <link rel="manifest" href="images/site.webmanifest">
    <link rel="mask-icon" href="images/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="images/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="images/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <title>WWV Simulator</title>
  </head>
  <body>
    <div class="content">
      <div class="main">
        <div class="clock">
          <div>
            <span id="clock"></span>
            <div class="audio-control-group">
              <div class="volume-control">
                <i class="icon-volume-up"></i>
                <input id="volume" type="range" min="0" max="100" value="50">
                <output id="volume-level" for="volume" aria-role="status">50%</output>
              </div>
              <div class="play-pause">
                <span id="loadingMessage" class="none">Loading audio...</span>
                <i id="play" class="icon-play audio-control"></i>
                <i id="pause" class="icon-pause audio-control none"></i>
              </div>
              <div class="station-select">
                <label class="station-option">
                  <input type="radio" name="station" value="v" checked>WWV<br>
                </label>
                <label class="station-option">
                  <input type="radio" name="station" value="h">WWVH
                </label>
              </div>
            </div>
            <div class="row center">
              <div id="statusMessage">
                Press play to start audio
              </div>
            </div>
          </div>
        </div>
        <hr class="divider">
        <div class="station-info-container">
        <div id="wwv-info">
          <table class="station-info">
            <tr>
              <td style="width:43%"><strong>Station:</strong></td><td>WWV</td>
            </tr>
            <tr>
              <td><strong>Established:</strong></td><td>1919</td>
            </tr>
            <tr>
              <td><strong>Location:</strong></td><td><a href="https://www.google.com/maps/place/NIST+Radio+Station+WWV/@40.6797227,-105.0415411,367m/data=!3m1!1e3!4m7!3m6!1s0x876934b040547107:0x987903210de784fb!8m2!3d40.6796942!4d-105.042429!9m1!1b1">Fort Collins, CO</a></td>
            </tr>
            <tr>
              <td><strong>Frequencies:</strong></td><td>2.5, 5, 10, 15, 20, 25 MHz</td>
            </tr>
            <tr>
              <td><strong>Power:</strong></td><td>2.5 - 10 kW</td>
            </tr>
            <tr>
              <td><strong>Identification:</strong></td><td>0, 30 minutes (<a  id="play-wwv" href="#">play</a>)</td>
            </tr>
            <tr>
              <td><strong>Pulse Frequency:</strong></td><td>1000Hz</td>
            </tr>
            <tr>
              <td><strong>Official NIST Site:</strong></td><td><a href="https://www.nist.gov/pml/time-and-frequency-division/radio-stations/wwv">WWV</a></td>
            </tr>
          </table>
        </div>
        <div id="wwvh-info" class="none">
          <table class="station-info">
            <tr>
              <td style="width:43%"><strong>Station:</strong></td><td>WWVH</td>
            </tr>
            <tr>
              <td><strong>Established:</strong></td><td>1948</td>
            </tr>
            <tr>
              <td><strong>Location:</strong></td><td><a href="https://www.google.com/maps/place/NIST+RADIO+STATION:+WWVH/@21.9877093,-159.7630518,329m/data=!3m1!1e3!4m5!3m4!1s0x7c07a955192c7c81:0x99e41658f4e73878!8m2!3d21.9879269!4d-159.7627344">Kekaha, HI</a></td>
            </tr>
            <tr>
              <td><strong>Frequencies:</strong></td><td>2.5, 5, 10, 15 MHz</td>
            </tr>
            <tr>
              <td><strong>Power:</strong></td><td>5 - 10 kW</td>
            </tr>
            <tr>
              <td><strong>Identification:</strong></td><td>29, 59 minutes (<a id="play-wwvh" href="#">play</a>)</td>
            </tr>
            <tr>
              <td><strong>Pulse Frequency:</strong></td><td>1200Hz</td>
            </tr>
            <tr>
              <td><strong>Official NIST Site:</strong></td><td><a href="https://www.nist.gov/pml/time-and-frequency-division/radio-stations/wwvh">WWVH</a></td>
            </tr>
          </table>
        </div>
        </div>
        <hr class="divider">
        <div>
          <h2 id="what-is-this">WWV Simulator</h2>
          <p>This site attempts to simulate the audio portion of stations WWV and WWVH. It should sound much like what you’d hear if you tuned in a shortwave radio to one of these stations. Each station has its own style of tones and voice time announcements. Station identification is every half hour.</p>

          <p>This is only an simulation, using your computer’s time and samples of the audio. It is not a rebroadcast of the real stations.</p>

          <h2 id="what-is-wwv">What is WWV?</h2>

          <p><a href="https://en.wikipedia.org/wiki/WWV_(radio_station)">WWV</a> is a radio station run by the National Institute of Standards and Technology (<a href="https://en.wikipedia.org/wiki/National_Institute_of_Standards_and_Technology">NIST</a>) that broadcasts precise time and frequency from Fort Collins, CO. A companion station, <a href="https://en.wikipedia.org/wiki/WWVH">WWVH</a>, provides a similar service from Kekaha, HI. The time sources are highly accurate atomic clocks. These broadcasts contain an audible portion (which this site emulates), and a <a href="https://en.wikipedia.org/wiki/WWV_(radio_station)#Digital_time_code">digital time code</a> that can be received by clocks and watches for automatically maintaining precise time.</p>

          <p>WWV has operated continuously since 1919, but its future is in doubt due to <a href="https://www.voanews.com/a/time-may-be-running-out-for-millions-of-clocks/4554376.html">proposed budget cuts</a> which could shutter the stations.</p>

          <h2 id="why-make-this-site">Why make this site?</h2>

          <p>I have fond memories of WWV being one of the first stations I picked up when I got my ham radio license many years ago. It was one of the few stations that could nearly always be picked up on <em>some</em> frequency, even during poor propagation. When conditions were good, sometimes I could also hear WWVH (Hawaii → Chicago <em>is</em> a bit of haul). Besides just tuning it in, I actually liked having it on while doing my homework! The steady pulses, curious patterns of tones, and old-timey timbre of the occasional voice announcements made for nice background noise.</p>

          <p>WWV has never (to my knowledge) been streamed over the internet. There are many <a href="https://www.youtube.com/results?search_query=wwv">sample recordings</a> available, but nothing that just runs and reflects the current time. Creating a simulated WWV website has been on my “someday” project list for a long time, but the threat of WWV/H being shut down provided serious motivation to make it a reality. Even if NIST does power down the amplifiers, this site can still provide a reasonable representation of what those iconic stations sounded like.</p>

          <h2 id="how-accurate-is-it">How Accurate is It?</h2>

          <p>Time-wise, this site is exactly as (in)accurate as your computer or phone clock currently is. As far as how well it matches the real WWV/H transmissions, my goal has been to mimic the audio portion as closely as reasonably possible. The stations have <a href="https://en.wikipedia.org/wiki/WWV_(radio_station)#Broadcast_format">distinct patterns</a> of pulses, tones, and voice announcements which have been implemented. The simulation includes all of the elements except for real-time voice announcements, such as space weather reports, and some really esoteric things like special adjustments for leap seconds. If you find an error, let me know!</p>

          <p>Note: if you’re listening with bluetooth headphones, the pulses and clock might be slightly out of sync. Furthermore, if the browser doesn't have focus or the tab isn’t active, timing can become skewed (browser dependent).</p>

          <h2 id="implementation">Implementation</h2>

          <p>The voice announcements were obtained from the telephone time service that NIST provides. This laborious process involved recording and editing hundreds of calls. Calls were made with Google Hangouts, and all editing was done in <a href="https://www.audacityteam.org/">Audacity</a>. A small program was written to generate the tones and pulses according to the NIST specification. The voice samples and generated tones are then interleaved according
          to the current time and broadcast schedule of the selected station.</p>

          <p>The application itself is entirely in Javascript. It leans heavily on the <a href="https://howlerjs.com/">Howler</a> and <a href="https://github.com/dbkaplun/driftless">Driftless</a> libraries to accurately sequence the audio clips.</p>

          <h2 id="contact">Contact</h2>

          <p>If you have any questions, bug reports or improvements, the <a href="https://github.com/kalafut/wwv">Github project</a> is the best place to reach me.</p>

          <p>

          <a href="https://github.com/kalafut/wwv"><img class="gh" src="images/GitHub-Mark-120px-plus.png" alt="GitHub project"/></a>
          </p>
        </div>
      </div>
    </div>
    <script src="main.js?v=%JS_HASH%"></script>
    <script data-goatcounter="https://mcodes-wwv.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
  </body>
</html>
